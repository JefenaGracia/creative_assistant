{"ast":null,"code":"var _jsxFileName = \"/Users/jefenaprakash/creative_assistant/ca_login/src/components/StudentDashboard.js\";\nimport React, { useEffect, useState } from 'react';\nimport { db } from '../firebaseConfig';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { useNavigate } from 'react-router-dom';\nimport { gapi } from 'gapi-script';\nimport './StudentDashboard.css'; // Optional: CSS file for additional styling\n\nconst StudentDashboard = () => {\n  const [assignment, setAssignment] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate(); // For navigation\n\n  useEffect(() => {\n    const fetchAssignment = async () => {\n      setLoading(true); // Start loading state\n      try {\n        // Get the current user's email from Google Auth\n        const authInstance = gapi.auth2.getAuthInstance();\n        const googleUser = authInstance.currentUser.get();\n        const profile = googleUser.getBasicProfile();\n        const userEmail = profile.getEmail();\n\n        // Use the email to query Firestore for the assignment\n        const projectId = `${userEmail}-Project A`;\n        const projectRef = doc(db, 'projects', projectId);\n        const docSnap = await getDoc(projectRef);\n        if (docSnap.exists()) {\n          setAssignment(docSnap.data());\n        } else {\n          console.log(\"No assignment found for this project.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching assignment:\", error);\n      } finally {\n        setLoading(false); // Stop loading state\n      }\n    };\n    fetchAssignment();\n  }, []);\n  const openProjectPage = () => {\n    navigate(`/project/${assignment.projectName}`);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"student-dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"Student Dashboard\"), loading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Loading your assignments...\") : assignment ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"assignment-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, \"Assigned Project:\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: openProjectPage,\n    className: \"project-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, assignment.projectName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 14\n    }\n  }, \"Team:\"), \" \", assignment.teamName)) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, \"No assignment found.\"));\n};\nexport default StudentDashboard;","map":{"version":3,"names":["React","useEffect","useState","db","doc","getDoc","useNavigate","gapi","StudentDashboard","assignment","setAssignment","loading","setLoading","navigate","fetchAssignment","authInstance","auth2","getAuthInstance","googleUser","currentUser","get","profile","getBasicProfile","userEmail","getEmail","projectId","projectRef","docSnap","exists","data","console","log","error","openProjectPage","projectName","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","teamName"],"sources":["/Users/jefenaprakash/creative_assistant/ca_login/src/components/StudentDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { db } from '../firebaseConfig';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { useNavigate } from 'react-router-dom';\nimport { gapi } from 'gapi-script';\nimport './StudentDashboard.css'; // Optional: CSS file for additional styling\n\nconst StudentDashboard = () => {\n  const [assignment, setAssignment] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate(); // For navigation\n\n  useEffect(() => {\n    const fetchAssignment = async () => {\n      setLoading(true); // Start loading state\n      try {\n        // Get the current user's email from Google Auth\n        const authInstance = gapi.auth2.getAuthInstance();\n        const googleUser = authInstance.currentUser.get();\n        const profile = googleUser.getBasicProfile();\n        const userEmail = profile.getEmail();\n\n        // Use the email to query Firestore for the assignment\n        const projectId = `${userEmail}-Project A`;\n        const projectRef = doc(db, 'projects', projectId);\n        const docSnap = await getDoc(projectRef);\n\n        if (docSnap.exists()) {\n          setAssignment(docSnap.data());\n        } else {\n          console.log(\"No assignment found for this project.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching assignment:\", error);\n      } finally {\n        setLoading(false); // Stop loading state\n      }\n    };\n\n    fetchAssignment();\n  }, []);\n\n  const openProjectPage = () => {\n    navigate(`/project/${assignment.projectName}`);\n  };\n\n  return (\n    <div className=\"student-dashboard\">\n      <h2>Student Dashboard</h2>\n\n      {loading ? (\n        <p>Loading your assignments...</p>\n      ) : assignment ? (\n        <div className=\"assignment-card\">\n          <h3>Assigned Project:</h3>\n          <button onClick={openProjectPage} className=\"project-button\">\n            {assignment.projectName}\n          </button>\n          <p><strong>Team:</strong> {assignment.teamName}</p>\n        </div>\n      ) : (\n        <p>No assignment found.</p>\n      )}\n    </div>\n  );\n};\n\nexport default StudentDashboard;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,EAAE,QAAQ,mBAAmB;AACtC,SAASC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AAChD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,IAAI,QAAQ,aAAa;AAClC,OAAO,wBAAwB,CAAC,CAAC;;AAEjC,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAC7B,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAMW,QAAQ,GAAGP,WAAW,CAAC,CAAC,CAAC,CAAC;;EAEhCL,SAAS,CAAC,MAAM;IACd,MAAMa,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClCF,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;MAClB,IAAI;QACF;QACA,MAAMG,YAAY,GAAGR,IAAI,CAACS,KAAK,CAACC,eAAe,CAAC,CAAC;QACjD,MAAMC,UAAU,GAAGH,YAAY,CAACI,WAAW,CAACC,GAAG,CAAC,CAAC;QACjD,MAAMC,OAAO,GAAGH,UAAU,CAACI,eAAe,CAAC,CAAC;QAC5C,MAAMC,SAAS,GAAGF,OAAO,CAACG,QAAQ,CAAC,CAAC;;QAEpC;QACA,MAAMC,SAAS,GAAG,GAAGF,SAAS,YAAY;QAC1C,MAAMG,UAAU,GAAGtB,GAAG,CAACD,EAAE,EAAE,UAAU,EAAEsB,SAAS,CAAC;QACjD,MAAME,OAAO,GAAG,MAAMtB,MAAM,CAACqB,UAAU,CAAC;QAExC,IAAIC,OAAO,CAACC,MAAM,CAAC,CAAC,EAAE;UACpBlB,aAAa,CAACiB,OAAO,CAACE,IAAI,CAAC,CAAC,CAAC;QAC/B,CAAC,MAAM;UACLC,OAAO,CAACC,GAAG,CAAC,uCAAuC,CAAC;QACtD;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACpD,CAAC,SAAS;QACRpB,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC;MACrB;IACF,CAAC;IAEDE,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMmB,eAAe,GAAGA,CAAA,KAAM;IAC5BpB,QAAQ,CAAC,YAAYJ,UAAU,CAACyB,WAAW,EAAE,CAAC;EAChD,CAAC;EAED,oBACElC,KAAA,CAAAmC,aAAA;IAAKC,SAAS,EAAC,mBAAmB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChC1C,KAAA,CAAAmC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,mBAAqB,CAAC,EAEzB/B,OAAO,gBACNX,KAAA,CAAAmC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,6BAA8B,CAAC,GAChCjC,UAAU,gBACZT,KAAA,CAAAmC,aAAA;IAAKC,SAAS,EAAC,iBAAiB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC9B1C,KAAA,CAAAmC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,mBAAqB,CAAC,eAC1B1C,KAAA,CAAAmC,aAAA;IAAQQ,OAAO,EAAEV,eAAgB;IAACG,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACzDjC,UAAU,CAACyB,WACN,CAAC,eACTlC,KAAA,CAAAmC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAAG1C,KAAA,CAAAmC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAQ,OAAa,CAAC,KAAC,EAACjC,UAAU,CAACmC,QAAY,CAC/C,CAAC,gBAEN5C,KAAA,CAAAmC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,sBAAuB,CAEzB,CAAC;AAEV,CAAC;AAED,eAAelC,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module"}