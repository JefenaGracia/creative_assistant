{"ast":null,"code":"var _jsxFileName = \"/Users/jefenaprakash/creative_assistant/ca_login/src/components/StudentDashboard.js\";\nimport React, { useEffect, useState } from 'react';\nimport { db } from '../firebaseConfig';\nimport { collection, query, where, getDocs } from 'firebase/firestore';\nimport { useNavigate } from 'react-router-dom';\nimport { gapi } from 'gapi-script';\nimport './StudentDashboard.css';\nconst StudentDashboard = () => {\n  const [assignment, setAssignment] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate(); // For navigation\n\n  useEffect(() => {\n    const fetchAssignment = async () => {\n      setLoading(true); // Start loading state\n      try {\n        // Get the current user's email from Google Auth\n        const authInstance = gapi.auth2.getAuthInstance();\n        const googleUser = authInstance.currentUser.get();\n        const profile = googleUser.getBasicProfile();\n        const userEmail = profile.getEmail();\n\n        // Query Firestore collection to find assignment by email field\n        const projectsCollection = collection(db, 'projects');\n        const q = query(projectsCollection, where(\"email\", \"==\", userEmail));\n        const querySnapshot = await getDocs(q);\n        if (!querySnapshot.empty) {\n          const projectData = querySnapshot.docs[0].data(); // Assuming one project per student\n          setAssignment(projectData);\n        } else {\n          console.log(\"No assignment found for this email.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching assignment:\", error);\n      } finally {\n        setLoading(false); // Stop loading state\n      }\n    };\n    fetchAssignment();\n  }, []);\n  const openProjectPage = () => {\n    navigate(`/project/${assignment.projectName}`);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"student-dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Student Dashboard\"), loading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Loading your assignments...\") : assignment ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"assignment-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Assigned Project:\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: openProjectPage,\n    className: \"project-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, assignment.projectName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 14\n    }\n  }, \"Team:\"), \" \", assignment.teamName)) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, \"No assignment found.\"));\n};\nexport default StudentDashboard;","map":{"version":3,"names":["React","useEffect","useState","db","collection","query","where","getDocs","useNavigate","gapi","StudentDashboard","assignment","setAssignment","loading","setLoading","navigate","fetchAssignment","authInstance","auth2","getAuthInstance","googleUser","currentUser","get","profile","getBasicProfile","userEmail","getEmail","projectsCollection","q","querySnapshot","empty","projectData","docs","data","console","log","error","openProjectPage","projectName","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","teamName"],"sources":["/Users/jefenaprakash/creative_assistant/ca_login/src/components/StudentDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { db } from '../firebaseConfig';\nimport { collection, query, where, getDocs } from 'firebase/firestore';\nimport { useNavigate } from 'react-router-dom';\nimport { gapi } from 'gapi-script';\nimport './StudentDashboard.css';\n\nconst StudentDashboard = () => {\n  const [assignment, setAssignment] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate(); // For navigation\n\n  useEffect(() => {\n    const fetchAssignment = async () => {\n      setLoading(true); // Start loading state\n      try {\n        // Get the current user's email from Google Auth\n        const authInstance = gapi.auth2.getAuthInstance();\n        const googleUser = authInstance.currentUser.get();\n        const profile = googleUser.getBasicProfile();\n        const userEmail = profile.getEmail();\n\n        // Query Firestore collection to find assignment by email field\n        const projectsCollection = collection(db, 'projects');\n        const q = query(projectsCollection, where(\"email\", \"==\", userEmail));\n        const querySnapshot = await getDocs(q);\n\n        if (!querySnapshot.empty) {\n          const projectData = querySnapshot.docs[0].data(); // Assuming one project per student\n          setAssignment(projectData);\n        } else {\n          console.log(\"No assignment found for this email.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching assignment:\", error);\n      } finally {\n        setLoading(false); // Stop loading state\n      }\n    };\n\n    fetchAssignment();\n  }, []);\n\n  const openProjectPage = () => {\n    navigate(`/project/${assignment.projectName}`);\n  };\n\n  return (\n    <div className=\"student-dashboard\">\n      <h2>Student Dashboard</h2>\n\n      {loading ? (\n        <p>Loading your assignments...</p>\n      ) : assignment ? (\n        <div className=\"assignment-card\">\n          <h3>Assigned Project:</h3>\n          <button onClick={openProjectPage} className=\"project-button\">\n            {assignment.projectName}\n          </button>\n          <p><strong>Team:</strong> {assignment.teamName}</p>\n        </div>\n      ) : (\n        <p>No assignment found.</p>\n      )}\n    </div>\n  );\n};\n\nexport default StudentDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}