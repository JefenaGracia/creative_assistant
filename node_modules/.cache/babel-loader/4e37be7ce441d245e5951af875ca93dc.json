{"ast":null,"code":"var _jsxFileName = \"/Users/jefenaprakash/creative_assistant/ca_login/src/components/TeacherDashboard.js\";\nimport React, { useState } from 'react';\nimport * as XLSX from 'xlsx';\nimport { db } from '../firebaseConfig';\nimport { setDoc, doc, collection } from 'firebase/firestore';\nconst TeacherDashboard = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [classroomName, setClassroomName] = useState('');\n\n  // Handle file upload for creating a classroom\n  const handleClassroomFileUpload = e => {\n    const file = e.target.files[0];\n    if (!file) {\n      alert(\"No file selected\");\n      return;\n    }\n    if (!classroomName) {\n      alert(\"Please enter a classroom name\");\n      return;\n    }\n    setLoading(true);\n    const reader = new FileReader();\n\n    // Handle file reading\n    reader.onload = async event => {\n      try {\n        const fileData = event.target.result;\n        const workbook = XLSX.read(fileData, {\n          type: 'binary'\n        });\n        const sheet = workbook.Sheets[workbook.SheetNames[0]];\n        const jsonData = XLSX.utils.sheet_to_json(sheet);\n\n        // Debug: Check loaded JSON data\n        console.log(\"Loaded JSON data:\", jsonData);\n\n        // Process each row to create student entries in the classroom\n        const classroomRef = doc(db, 'classrooms', classroomName);\n        const students = jsonData.map(({\n          'Student Email': email,\n          'Student Name': name\n        }) => ({\n          email,\n          name,\n          assignedAt: new Date().toISOString()\n        }));\n        await setDoc(classroomRef, {\n          classroomName,\n          students\n        });\n        alert('Classroom created and students added successfully.');\n        setLoading(false);\n      } catch (err) {\n        console.error(err);\n        setError(\"An error occurred while processing the file.\");\n        setLoading(false);\n      }\n    };\n    reader.readAsBinaryString(file);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: 'Arial, sans-serif'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Teacher Dashboard\"), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"Classroom Name:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: classroomName,\n    onChange: e => setClassroomName(e.target.value),\n    style: {\n      marginLeft: '10px',\n      padding: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \".xlsx,.csv\",\n    onChange: handleClassroomFileUpload,\n    style: {\n      marginTop: '10px',\n      padding: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), loading && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'blue'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 19\n    }\n  }, \"Uploading...\"), error && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, error));\n};\nexport default TeacherDashboard;","map":{"version":3,"names":["React","useState","XLSX","db","setDoc","doc","collection","TeacherDashboard","loading","setLoading","error","setError","classroomName","setClassroomName","handleClassroomFileUpload","e","file","target","files","alert","reader","FileReader","onload","event","fileData","result","workbook","read","type","sheet","Sheets","SheetNames","jsonData","utils","sheet_to_json","console","log","classroomRef","students","map","email","name","assignedAt","Date","toISOString","err","readAsBinaryString","createElement","style","padding","fontFamily","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","marginLeft","accept","marginTop","color"],"sources":["/Users/jefenaprakash/creative_assistant/ca_login/src/components/TeacherDashboard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport * as XLSX from 'xlsx';\nimport { db } from '../firebaseConfig';\nimport { setDoc, doc, collection } from 'firebase/firestore';\n\nconst TeacherDashboard = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [classroomName, setClassroomName] = useState('');\n\n  // Handle file upload for creating a classroom\n  const handleClassroomFileUpload = (e) => {\n    const file = e.target.files[0];\n\n    if (!file) {\n      alert(\"No file selected\");\n      return;\n    }\n\n    if (!classroomName) {\n      alert(\"Please enter a classroom name\");\n      return;\n    }\n\n    setLoading(true);\n    const reader = new FileReader();\n    \n    // Handle file reading\n    reader.onload = async (event) => {\n      try {\n        const fileData = event.target.result;\n        const workbook = XLSX.read(fileData, { type: 'binary' });\n        const sheet = workbook.Sheets[workbook.SheetNames[0]];\n        const jsonData = XLSX.utils.sheet_to_json(sheet);\n\n        // Debug: Check loaded JSON data\n        console.log(\"Loaded JSON data:\", jsonData);\n\n        // Process each row to create student entries in the classroom\n        const classroomRef = doc(db, 'classrooms', classroomName); \n        const students = jsonData.map(({ 'Student Email': email, 'Student Name': name }) => ({\n          email,\n          name,\n          assignedAt: new Date().toISOString()\n        }));\n\n        await setDoc(classroomRef, { classroomName, students });\n\n        alert('Classroom created and students added successfully.');\n        setLoading(false);\n      } catch (err) {\n        console.error(err);\n        setError(\"An error occurred while processing the file.\");\n        setLoading(false);\n      }\n    };\n\n    reader.readAsBinaryString(file);\n  };\n\n  return (\n    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>\n      <h1>Teacher Dashboard</h1>\n\n      {/* Classroom name input */}\n      <label>\n        Classroom Name:\n        <input \n          type=\"text\" \n          value={classroomName} \n          onChange={(e) => setClassroomName(e.target.value)} \n          style={{ marginLeft: '10px', padding: '5px' }}\n        />\n      </label>\n\n      {/* Upload file input */}\n      <input \n        type=\"file\" \n        accept=\".xlsx,.csv\" \n        onChange={handleClassroomFileUpload} \n        style={{ marginTop: '10px', padding: '5px' }} \n      />\n\n      {/* Loading/Error States */}\n      {loading && <p style={{ color: 'blue' }}>Uploading...</p>}\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n    </div>\n  );\n};\n\nexport default TeacherDashboard;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAO,KAAKC,IAAI,MAAM,MAAM;AAC5B,SAASC,EAAE,QAAQ,mBAAmB;AACtC,SAASC,MAAM,EAAEC,GAAG,EAAEC,UAAU,QAAQ,oBAAoB;AAE5D,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAC7B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACW,aAAa,EAAEC,gBAAgB,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;;EAEtD;EACA,MAAMa,yBAAyB,GAAIC,CAAC,IAAK;IACvC,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAE9B,IAAI,CAACF,IAAI,EAAE;MACTG,KAAK,CAAC,kBAAkB,CAAC;MACzB;IACF;IAEA,IAAI,CAACP,aAAa,EAAE;MAClBO,KAAK,CAAC,+BAA+B,CAAC;MACtC;IACF;IAEAV,UAAU,CAAC,IAAI,CAAC;IAChB,MAAMW,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;;IAE/B;IACAD,MAAM,CAACE,MAAM,GAAG,MAAOC,KAAK,IAAK;MAC/B,IAAI;QACF,MAAMC,QAAQ,GAAGD,KAAK,CAACN,MAAM,CAACQ,MAAM;QACpC,MAAMC,QAAQ,GAAGxB,IAAI,CAACyB,IAAI,CAACH,QAAQ,EAAE;UAAEI,IAAI,EAAE;QAAS,CAAC,CAAC;QACxD,MAAMC,KAAK,GAAGH,QAAQ,CAACI,MAAM,CAACJ,QAAQ,CAACK,UAAU,CAAC,CAAC,CAAC,CAAC;QACrD,MAAMC,QAAQ,GAAG9B,IAAI,CAAC+B,KAAK,CAACC,aAAa,CAACL,KAAK,CAAC;;QAEhD;QACAM,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEJ,QAAQ,CAAC;;QAE1C;QACA,MAAMK,YAAY,GAAGhC,GAAG,CAACF,EAAE,EAAE,YAAY,EAAES,aAAa,CAAC;QACzD,MAAM0B,QAAQ,GAAGN,QAAQ,CAACO,GAAG,CAAC,CAAC;UAAE,eAAe,EAAEC,KAAK;UAAE,cAAc,EAAEC;QAAK,CAAC,MAAM;UACnFD,KAAK;UACLC,IAAI;UACJC,UAAU,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;QACrC,CAAC,CAAC,CAAC;QAEH,MAAMxC,MAAM,CAACiC,YAAY,EAAE;UAAEzB,aAAa;UAAE0B;QAAS,CAAC,CAAC;QAEvDnB,KAAK,CAAC,oDAAoD,CAAC;QAC3DV,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,CAAC,OAAOoC,GAAG,EAAE;QACZV,OAAO,CAACzB,KAAK,CAACmC,GAAG,CAAC;QAClBlC,QAAQ,CAAC,8CAA8C,CAAC;QACxDF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDW,MAAM,CAAC0B,kBAAkB,CAAC9B,IAAI,CAAC;EACjC,CAAC;EAED,oBACEhB,KAAA,CAAA+C,aAAA;IAAKC,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,UAAU,EAAE;IAAoB,CAAE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC/DxD,KAAA,CAAA+C,aAAA;IAAAI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,mBAAqB,CAAC,eAG1BxD,KAAA,CAAA+C,aAAA;IAAAI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAO,iBAEL,eAAAxD,KAAA,CAAA+C,aAAA;IACEnB,IAAI,EAAC,MAAM;IACX6B,KAAK,EAAE7C,aAAc;IACrB8C,QAAQ,EAAG3C,CAAC,IAAKF,gBAAgB,CAACE,CAAC,CAACE,MAAM,CAACwC,KAAK,CAAE;IAClDT,KAAK,EAAE;MAAEW,UAAU,EAAE,MAAM;MAAEV,OAAO,EAAE;IAAM,CAAE;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC/C,CACI,CAAC,eAGRxD,KAAA,CAAA+C,aAAA;IACEnB,IAAI,EAAC,MAAM;IACXgC,MAAM,EAAC,YAAY;IACnBF,QAAQ,EAAE5C,yBAA0B;IACpCkC,KAAK,EAAE;MAAEa,SAAS,EAAE,MAAM;MAAEZ,OAAO,EAAE;IAAM,CAAE;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC9C,CAAC,EAGDhD,OAAO,iBAAIR,KAAA,CAAA+C,aAAA;IAAGC,KAAK,EAAE;MAAEc,KAAK,EAAE;IAAO,CAAE;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,cAAe,CAAC,EACxD9C,KAAK,iBAAIV,KAAA,CAAA+C,aAAA;IAAGC,KAAK,EAAE;MAAEc,KAAK,EAAE;IAAM,CAAE;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE9C,KAAS,CAC7C,CAAC;AAEV,CAAC;AAED,eAAeH,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module"}