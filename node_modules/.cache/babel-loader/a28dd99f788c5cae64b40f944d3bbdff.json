{"ast":null,"code":"var _jsxFileName = \"/Users/jefenaprakash/creative_assistant/ca_login/src/components/StudentDashboard.js\";\nimport React, { useEffect, useState } from 'react';\nimport { db } from '../firebaseConfig';\nimport { collection, query, where, getDocs } from 'firebase/firestore';\nimport { getAuth } from 'firebase/auth';\nconst StudentDashboard = () => {\n  const [assignments, setAssignments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchAssignments = async () => {\n      setLoading(true);\n      try {\n        // Get the current user's email from Firebase Authentication\n        const auth = getAuth();\n        const user = auth.currentUser;\n        if (!user) {\n          console.error('No user is logged in');\n          setLoading(false);\n          return;\n        }\n        const email = user.email;\n\n        // Query the \"projects\" collection for assignments where the email matches the current user\n        const projectsRef = collection(db, 'projects');\n        const q = query(projectsRef, where('email', '==', email));\n        const querySnapshot = await getDocs(q);\n\n        // Map over the results to extract assignment data\n        const assignmentsData = querySnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        setAssignments(assignmentsData);\n      } catch (error) {\n        console.error('Error fetching assignments:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchAssignments();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"Student Dashboard\"), loading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"Loading assignments...\") : assignments.length > 0 ? assignments.map(assignment => /*#__PURE__*/React.createElement(\"div\", {\n    key: assignment.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, \"Assigned Project: \", assignment.projectName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Team: \", assignment.teamName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Assigned At: \", new Date(assignment.assignedAt).toLocaleString()))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, \"No assignments found.\"));\n};\nexport default StudentDashboard;","map":{"version":3,"names":["React","useEffect","useState","db","collection","query","where","getDocs","getAuth","StudentDashboard","assignments","setAssignments","loading","setLoading","fetchAssignments","auth","user","currentUser","console","error","email","projectsRef","q","querySnapshot","assignmentsData","docs","map","doc","id","data","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","assignment","key","projectName","teamName","Date","assignedAt","toLocaleString"],"sources":["/Users/jefenaprakash/creative_assistant/ca_login/src/components/StudentDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { db } from '../firebaseConfig';\nimport { collection, query, where, getDocs } from 'firebase/firestore';\nimport { getAuth } from 'firebase/auth';\n\nconst StudentDashboard = () => {\n  const [assignments, setAssignments] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchAssignments = async () => {\n      setLoading(true);\n      try {\n        // Get the current user's email from Firebase Authentication\n        const auth = getAuth();\n        const user = auth.currentUser;\n        if (!user) {\n          console.error('No user is logged in');\n          setLoading(false);\n          return;\n        }\n        \n        const email = user.email;\n        \n        // Query the \"projects\" collection for assignments where the email matches the current user\n        const projectsRef = collection(db, 'projects');\n        const q = query(projectsRef, where('email', '==', email));\n        const querySnapshot = await getDocs(q);\n\n        // Map over the results to extract assignment data\n        const assignmentsData = querySnapshot.docs.map(doc => ({\n          id: doc.id,\n          ...doc.data()\n        }));\n        \n        setAssignments(assignmentsData);\n      } catch (error) {\n        console.error('Error fetching assignments:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAssignments();\n  }, []);\n\n  return (\n    <div>\n      <h2>Student Dashboard</h2>\n      {loading ? (\n        <p>Loading assignments...</p>\n      ) : assignments.length > 0 ? (\n        assignments.map((assignment) => (\n          <div key={assignment.id}>\n            <h3>Assigned Project: {assignment.projectName}</h3>\n            <p>Team: {assignment.teamName}</p>\n            <p>Assigned At: {new Date(assignment.assignedAt).toLocaleString()}</p>\n          </div>\n        ))\n      ) : (\n        <p>No assignments found.</p>\n      )}\n    </div>\n  );\n};\n\nexport default StudentDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}